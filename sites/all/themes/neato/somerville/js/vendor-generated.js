window.Modernizr=function(e,t,n){function i(e){b.cssText=e}function a(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var a=e[i];if(!r(a,"-")&&b[a]!==n)return"pfx"==t?a:!0}return!1}function o(e,t,i){for(var r in e){var s=t[e[r]];if(s!==n)return i===!1?e[r]:a(s,"function")?s.bind(i||t):s}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+$.join(i+" ")+i).split(" ");return a(t,"string")||a(t,"undefined")?s(r,t):(r=(e+" "+k.join(i+" ")+i).split(" "),o(r,t,n))}var c,d,u,p="2.8.3",h={},g=!0,f=t.documentElement,v="modernizr",m=t.createElement(v),b=m.style,y={}.toString,w=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",$=x.split(" "),k=x.toLowerCase().split(" "),D={svg:"http://www.w3.org/2000/svg"},S={},M=[],E=M.slice,T={}.hasOwnProperty;u=a(T,"undefined")||a(T.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=E.call(arguments,1),i=function(){if(this instanceof i){var a=function(){};a.prototype=t.prototype;var r=new a,s=t.apply(r,n.concat(E.call(arguments)));return Object(s)===s?s:r}return t.apply(e,n.concat(E.call(arguments)))};return i}),S.flexbox=function(){return l("flexWrap")},S.flexboxlegacy=function(){return l("boxDirection")},S.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+w.join(n+e)).slice(0,-e.length)),r(b.backgroundImage,"gradient")},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(D.svg,"svg").createSVGRect},S.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==D.svg},S.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(y.call(t.createElementNS(D.svg,"clipPath")))};for(var C in S)u(S,C)&&(d=C.toLowerCase(),h[d]=S[C](),M.push((h[d]?"":"no-")+d));return h.addTest=function(e,t){if("object"==typeof e)for(var i in e)u(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof g&&g&&(f.className+=" "+(t?"":"no-")+e),h[e]=t}return h},i(""),m=c=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=m[e[f]];return t||(t={},v++,e[f]=v,m[v]=t),t}function r(e,n,i){if(n||(n=t),d)return n.createElement(e);i||(i=a(n));var r;return r=i.cache[e]?i.cache[e].cloneNode():g.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!r.canHaveChildren||h.test(e)||r.tagUrn?r:i.frag.appendChild(r)}function s(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||a(e);for(var r=n.frag.cloneNode(),s=0,o=i(),l=o.length;l>s;s++)r.createElement(o[s]);return r}function o(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return b.shivMethods?r(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function l(e){e||(e=t);var i=a(e);return b.shivCSS&&!c&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||o(e,i),e}var c,d,u="3.7.0",p=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",v=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,d=!0}}();var b={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:p.shivCSS!==!1,supportsUnknownElements:d,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:s};e.html5=b,l(t)}(this,t),h._version=p,h._prefixes=w,h._domPrefixes=k,h._cssomPrefixes=$,h.testProp=function(e){return s([e])},h.testAllProps=l,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+M.join(" "):""),h}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==v.call(e)}function a(e){return"string"==typeof e}function r(){}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function o(){var e=m.shift();b=1,e?e.t?g(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),o()):b=0}function l(e,n,i,a,r,l,c){function d(t){if(!h&&s(u.readyState)&&(y.r=h=1,!b&&o(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&g(function(){x.removeChild(u)},50);for(var i in M[n])M[n].hasOwnProperty(i)&&M[n][i].onload()}}var c=c||p.errorTimeout,u=t.createElement(e),h=0,v=0,y={t:i,s:n,e:r,a:l,x:c};1===M[n]&&(v=1,M[n]=[]),"object"==e?u.data=n:(u.src=n,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){d.call(this,v)},m.splice(a,0,y),"img"!=e&&(v||2===M[n]?(x.insertBefore(u,w?null:f),g(d,c)):M[n].push(u))}function c(e,t,n,i,r){return b=0,t=t||"j",a(e)?l("c"==t?k:$,e,t,this.i++,n,i,r):(m.splice(this.i++,0,e),1==m.length&&o()),this}function d(){var e=p;return e.loader={load:c,i:0},e}var u,p,h=t.documentElement,g=e.setTimeout,f=t.getElementsByTagName("script")[0],v={}.toString,m=[],b=0,y="MozAppearance"in h.style,w=y&&!!t.createRange().compareNode,x=w?h:f.parentNode,h=e.opera&&"[object Opera]"==v.call(e.opera),h=!!t.attachEvent&&!h,$=y?"object":h?"script":"img",k=h?"script":$,D=Array.isArray||function(e){return"[object Array]"==v.call(e)},S=[],M={},E={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,i,e=e.split("!"),a=S.length,r=e.pop(),s=e.length,r={url:r,origUrl:r,prefixes:e};for(n=0;s>n;n++)i=e[n].split("="),(t=E[i.shift()])&&(r=t(r,i));for(n=0;a>n;n++)r=S[n](r);return r}function s(e,a,r,s,o){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(a&&(a=i(a)?a:a[e]||a[s]||a[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,a,r,s,o):(M[l.url]?l.noexec=!0:M[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(a)||i(c))&&r.load(function(){d(),a&&a(l.origUrl,o,s),c&&c(l.origUrl,o,s),M[l.url]=2})))}function o(e,t){function n(e,n){if(e){if(a(e))n||(u=function(){var e=[].slice.call(arguments);p.apply(this,e),h()}),s(e,u,t,0,c);else if(Object(e)===e)for(l in o=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--o&&(i(u)?u=function(){var e=[].slice.call(arguments);p.apply(this,e),h()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),h()}}(p[l])),s(e[l],u,t,l,c))}else!n&&h()}var o,l,c=!!e.test,d=e.load||e.both,u=e.callback||r,p=u,h=e.complete||r;n(c?e.yep:e.nope,!!d),d&&n(d)}var l,c,u=this.yepnope.loader;if(a(e))s(e,0,u,0);else if(D(e))for(l=0;l<e.length;l++)c=e[l],a(c)?s(c,0,u,0):D(c)?p(c):Object(c)===c&&o(c,u);else Object(e)===e&&o(e,u)},p.addPrefix=function(e,t){E[e]=t},p.addFilter=function(e){S.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=d(),e.yepnope.executeStack=o,e.yepnope.injectJs=function(e,n,i,a,l,c){var d,u,h=t.createElement("script"),a=a||p.errorTimeout;h.src=e;for(u in i)h.setAttribute(u,i[u]);n=c?o:n||r,h.onreadystatechange=h.onload=function(){!d&&s(h.readyState)&&(d=1,n(),h.onload=h.onreadystatechange=null)},g(function(){d||(d=1,n(1))},a),l?h.onload():f.parentNode.insertBefore(h,f)},e.yepnope.injectCss=function(e,n,i,a,s,l){var c,a=t.createElement("link"),n=l?o:n||r;a.href=e,a.rel="stylesheet",a.type="text/css";for(c in i)a.setAttribute(c,i[c]);s||(f.parentNode.insertBefore(a,f),g(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},!function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};e.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(n)}),this;var a={},r=this,s=e(window).width(),o=e(window).height(),l=function(){a.settings=e.extend({},t,n),a.settings.slideWidth=parseInt(a.settings.slideWidth),a.children=r.children(a.settings.slideSelector),a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length),a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length),a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length)),a.active={index:a.settings.startSlide},a.carousel=a.settings.minSlides>1||a.settings.maxSlides>1?!0:!1,a.carousel&&(a.settings.preloadImages="all"),a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin,a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin,a.working=!1,a.controls={},a.interval=null,a.animProp="vertical"===a.settings.mode?"top":"left",a.usingCSS=a.settings.useCSS&&"fade"!==a.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return a.cssPrefix=t[n].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}(),"vertical"===a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(a.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+a.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),a.viewport=r.parent(),a.loader=e('<div class="bx-loading" />'),a.viewport.prepend(a.loader),r.css({width:"horizontal"===a.settings.mode?1e3*a.children.length+215+"%":"auto",position:"absolute"}),a.usingCSS&&a.settings.easing?r.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing"),f(),a.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),a.viewport.parent().css({maxWidth:h()}),a.settings.pager||a.settings.controls||a.viewport.parent().css({margin:"0 auto 0px"}),a.children.css({"float":"horizontal"===a.settings.mode?"left":"none",listStyle:"none",position:"relative"}),a.children.css("width",g()),"horizontal"===a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginRight",a.settings.slideMargin),"vertical"===a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginBottom",a.settings.slideMargin),"fade"===a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:a.settings.slideZIndex,display:"block"})),a.controls.el=e('<div class="bx-controls" />'),a.settings.captions&&D(),a.active.last=a.settings.startSlide===v()-1,a.settings.video&&r.fitVids();var t=a.children.eq(a.settings.startSlide);("all"===a.settings.preloadImages||a.settings.ticker)&&(t=a.children),a.settings.ticker?a.settings.pager=!1:(a.settings.controls&&$(),a.settings.auto&&a.settings.autoControls&&k(),a.settings.pager&&x(),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&a.viewport.after(a.controls.el)),d(t,u)},d=function(t,n){var i=t.find('img:not([src=""]), iframe').length;if(0===i)return void n();var a=0;t.find('img:not([src=""]), iframe').each(function(){e(this).one("load error",function(){++a===i&&n()}).each(function(){this.complete&&e(this).load()})})},u=function(){if(a.settings.infiniteLoop&&"fade"!==a.settings.mode&&!a.settings.ticker){var t="vertical"===a.settings.mode?a.settings.minSlides:a.settings.maxSlides,n=a.children.slice(0,t).clone(!0).addClass("bx-clone"),i=a.children.slice(-t).clone(!0).addClass("bx-clone");r.append(n).prepend(i)}a.loader.remove(),b(),"vertical"===a.settings.mode&&(a.settings.adaptiveHeight=!0),a.viewport.height(p()),r.redrawSlider(),a.settings.onSliderLoad(a,a.active.index),a.initialized=!0,a.settings.responsive&&e(window).bind("resize",_),a.settings.auto&&a.settings.autoStart&&(v()>1||a.settings.autoSlideForOnePage)&&F(),a.settings.ticker&&N(),a.settings.pager&&A(a.settings.startSlide),a.settings.controls&&O(),a.settings.touchEnabled&&!a.settings.ticker&&L(),a.settings.keyboardEnabled&&!a.settings.ticker&&e(document).keydown(V)},p=function(){var t=0,n=e();if("vertical"===a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var r=1===a.settings.moveSlides?a.active.index:a.active.index*m();for(n=a.children.eq(r),i=1;i<=a.settings.maxSlides-1;i++)n=n.add(a.children.eq(r+i>=a.children.length?i-1:r+i))}else n=a.children.eq(a.active.index);else n=a.children;return"vertical"===a.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),a.settings.slideMargin>0&&(t+=a.settings.slideMargin*(a.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"===a.viewport.css("box-sizing")?t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))+parseFloat(a.viewport.css("border-top-width"))+parseFloat(a.viewport.css("border-bottom-width")):"padding-box"===a.viewport.css("box-sizing")&&(t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))),t},h=function(){var e="100%";return a.settings.slideWidth>0&&(e="horizontal"===a.settings.mode?a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin:a.settings.slideWidth),e},g=function(){var e=a.settings.slideWidth,t=a.viewport.width();return 0===a.settings.slideWidth||a.settings.slideWidth>t&&!a.carousel||"vertical"===a.settings.mode?e=t:a.settings.maxSlides>1&&"horizontal"===a.settings.mode&&(t>a.maxThreshold||t<a.minThreshold&&(e=(t-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides)),e},f=function(){var e=1;if("horizontal"===a.settings.mode&&a.settings.slideWidth>0)if(a.viewport.width()<a.minThreshold)e=a.settings.minSlides;else if(a.viewport.width()>a.maxThreshold)e=a.settings.maxSlides;else{var t=a.children.first().width()+a.settings.slideMargin;e=Math.floor((a.viewport.width()+a.settings.slideMargin)/t)}else"vertical"===a.settings.mode&&(e=a.settings.minSlides);return e},v=function(){var e=0;if(a.settings.moveSlides>0)if(a.settings.infiniteLoop)e=Math.ceil(a.children.length/m());else for(var t=0,n=0;t<a.children.length;)++e,t=n+f(),n+=a.settings.moveSlides<=f()?a.settings.moveSlides:f();else e=Math.ceil(a.children.length/f());return e},m=function(){return a.settings.moveSlides>0&&a.settings.moveSlides<=f()?a.settings.moveSlides:f()},b=function(){var e;if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop){if("horizontal"===a.settings.mode){var t=a.children.last();e=t.position(),y(-(e.left-(a.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"===a.settings.mode){var n=a.children.length-a.settings.minSlides;e=a.children.eq(n).position(),y(-e.top,"reset",0)}}else e=a.children.eq(a.active.index*m()).position(),a.active.index===v()-1&&(a.active.last=!0),void 0!==e&&("horizontal"===a.settings.mode?y(-e.left,"reset",0):"vertical"===a.settings.mode&&y(-e.top,"reset",0))},y=function(e,t,n,i){if(a.usingCSS){var s="vertical"===a.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";r.css("-"+a.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===t?setTimeout(function(){r.css(a.animProp,s),0===e?I():r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),I()})},0):"reset"===t?r.css(a.animProp,s):"ticker"===t&&(r.css("-"+a.cssPrefix+"-transition-timing-function","linear"),r.css(a.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),y(i.resetValue,"reset",0),R()}))}else{var o={};o[a.animProp]=e,"slide"===t?r.animate(o,n,a.settings.easing,function(){I()}):"reset"===t?r.css(a.animProp,e):"ticker"===t&&r.animate(o,speed,"linear",function(){y(i.resetValue,"reset",0),R()})}},w=function(){for(var t="",n=v(),i=0;n>i;i++){var r="";a.settings.buildPager&&e.isFunction(a.settings.buildPager)||a.settings.pagerCustom?(r=a.settings.buildPager(i),a.pagerEl.addClass("bx-custom-pager")):(r=i+1,a.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+r+"</a></div>"}a.pagerEl.html(t)},x=function(){a.settings.pagerCustom?a.pagerEl=e(a.settings.pagerCustom):(a.pagerEl=e('<div class="bx-pager" />'),a.settings.pagerSelector?e(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl),w()),a.pagerEl.on("click touchend","a",C)},$=function(){a.controls.next=e('<a class="bx-next" href="">'+a.settings.nextText+"</a>"),a.controls.prev=e('<a class="bx-prev" href="">'+a.settings.prevText+"</a>"),a.controls.next.bind("click touchend",S),a.controls.prev.bind("click touchend",M),a.settings.nextSelector&&e(a.settings.nextSelector).append(a.controls.next),a.settings.prevSelector&&e(a.settings.prevSelector).append(a.controls.prev),a.settings.nextSelector||a.settings.prevSelector||(a.controls.directionEl=e('<div class="bx-controls-direction" />'),a.controls.directionEl.append(a.controls.prev).append(a.controls.next),a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))},k=function(){a.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>"),a.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>"),a.controls.autoEl=e('<div class="bx-controls-auto" />'),a.controls.autoEl.on("click",".bx-start",E),a.controls.autoEl.on("click",".bx-stop",T),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?e(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),P(a.settings.autoStart?"stop":"start")},D=function(){a.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!==t&&(""+t).length&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},S=function(e){e.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&r.stopAuto(),r.goToNextSlide())},M=function(e){e.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&r.stopAuto(),r.goToPrevSlide())},E=function(e){r.startAuto(),e.preventDefault()},T=function(e){r.stopAuto(),e.preventDefault()},C=function(t){if(t.preventDefault(),!a.controls.el.hasClass("disabled")){a.settings.auto&&r.stopAuto();var n=e(t.currentTarget);if(void 0!==n.attr("data-slide-index")){var i=parseInt(n.attr("data-slide-index"));i!==a.active.index&&r.goToSlide(i)}}},A=function(t){var n=a.children.length;return"short"===a.settings.pagerType?(a.settings.maxSlides>1&&(n=Math.ceil(a.children.length/a.settings.maxSlides)),void a.pagerEl.html(t+1+a.settings.pagerShortSeparator+n)):(a.pagerEl.find("a").removeClass("active"),void a.pagerEl.each(function(n,i){e(i).find("a").eq(t).addClass("active")}))},I=function(){if(a.settings.infiniteLoop){var e="";0===a.active.index?e=a.children.eq(0).position():a.active.index===v()-1&&a.carousel?e=a.children.eq((v()-1)*m()).position():a.active.index===a.children.length-1&&(e=a.children.eq(a.children.length-1).position()),e&&("horizontal"===a.settings.mode?y(-e.left,"reset",0):"vertical"===a.settings.mode&&y(-e.top,"reset",0))}a.working=!1,a.settings.onSlideAfter(a.children.eq(a.active.index),a.oldIndex,a.active.index)},P=function(e){a.settings.autoControlsCombine?a.controls.autoEl.html(a.controls[e]):(a.controls.autoEl.find("a").removeClass("active"),a.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},O=function(){1===v()?(a.controls.prev.addClass("disabled"),a.controls.next.addClass("disabled")):!a.settings.infiniteLoop&&a.settings.hideControlOnEnd&&(0===a.active.index?(a.controls.prev.addClass("disabled"),a.controls.next.removeClass("disabled")):a.active.index===v()-1?(a.controls.next.addClass("disabled"),a.controls.prev.removeClass("disabled")):(a.controls.prev.removeClass("disabled"),a.controls.next.removeClass("disabled")))},F=function(){a.settings.autoDelay>0?setTimeout(r.startAuto,a.settings.autoDelay):(r.startAuto(),e(window).focus(function(){r.startAuto()}).blur(function(){r.stopAuto()})),a.settings.autoHover&&r.hover(function(){a.interval&&(r.stopAuto(!0),a.autoPaused=!0)},function(){a.autoPaused&&(r.startAuto(!0),a.autoPaused=null)})},N=function(){var t=0;if("next"===a.settings.autoDirection)r.append(a.children.clone().addClass("bx-clone"));else{r.prepend(a.children.clone().addClass("bx-clone"));var n=a.children.first().position();t="horizontal"===a.settings.mode?-n.left:-n.top}if(y(t,"reset",0),a.settings.pager=!1,a.settings.controls=!1,a.settings.autoControls=!1,a.settings.tickerHover)if(a.usingCSS){var i,s="horizontal"==a.settings.mode?4:5;a.viewport.hover(function(){var e=r.css("-"+a.cssPrefix+"-transform");i=parseFloat(e.split(",")[s]),y(i,"reset",0)},function(){var t=0;a.children.each(function(){t+="horizontal"==a.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var n=a.settings.speed/t,r=("horizontal"==a.settings.mode?"left":"top",n*(t-Math.abs(parseInt(i))));R(r)})}else a.viewport.hover(function(){r.stop()},function(){var t=0;a.children.each(function(){t+="horizontal"==a.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var n=a.settings.speed/t,i="horizontal"==a.settings.mode?"left":"top",s=n*(t-Math.abs(parseInt(r.css(i))));R(s)});R()},R=function(e){speed=e?e:a.settings.speed;var t={left:0,top:0},n={left:0,top:0};"next"===a.settings.autoDirection?t=r.find(".bx-clone").first().position():n=a.children.first().position();var i="horizontal"===a.settings.mode?-t.left:-t.top,s="horizontal"===a.settings.mode?-n.left:-n.top,o={resetValue:s};y(i,"ticker",speed,o)},H=function(t){var n=e(window),i={top:n.scrollTop(),left:n.scrollLeft()};i.right=i.left+n.width(),i.bottom=i.top+n.height();var a=t.offset();return a.right=a.left+t.outerWidth(),a.bottom=a.top+t.outerHeight(),!(i.right<a.left||i.left>a.right||i.bottom<a.top||i.top>a.bottom)},V=function(e){var t=document.activeElement.tagName.toLowerCase(),n="input|textarea",i=new RegExp(t,["i"]),a=i.exec(n);if(null==a&&H(r)){if(39==e.keyCode)return S(e),!1;if(37==e.keyCode)return M(e),!1}},L=function(){a.touch={start:{x:0,y:0},end:{x:0,y:0}},a.viewport.bind("touchstart MSPointerDown pointerdown",z),a.viewport.on("click",".bxslider a",function(e){a.viewport.hasClass("click-disabled")&&(e.preventDefault(),a.viewport.removeClass("click-disabled"))})},z=function(e){if(a.controls.el.addClass("disabled"),a.working)e.preventDefault(),a.controls.el.removeClass("disabled");else{a.touch.originalPos=r.position();var t=e.originalEvent,n="undefined"!=typeof t.changedTouches?t.changedTouches:[t];a.touch.start.x=n[0].pageX,a.touch.start.y=n[0].pageY,a.viewport.get(0).setPointerCapture&&(a.pointerId=t.pointerId,a.viewport.get(0).setPointerCapture(a.pointerId)),a.viewport.bind("touchmove MSPointerMove pointermove",B),a.viewport.bind("touchend MSPointerUp pointerup",Y),a.viewport.bind("MSPointerCancel pointercancel",q)}},q=function(){y(a.touch.originalPos.left,"reset",0),a.controls.el.removeClass("disabled"),a.viewport.unbind("MSPointerCancel pointercancel",q),a.viewport.unbind("touchmove MSPointerMove pointermove",B),a.viewport.unbind("touchend MSPointerUp pointerup",Y),a.viewport.get(0).releasePointerCapture&&a.viewport.get(0).releasePointerCapture(a.pointerId)},B=function(e){var t=e.originalEvent,n="undefined"!=typeof t.changedTouches?t.changedTouches:[t],i=Math.abs(n[0].pageX-a.touch.start.x),r=Math.abs(n[0].pageY-a.touch.start.y);if(3*i>r&&a.settings.preventDefaultSwipeX?e.preventDefault():3*r>i&&a.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==a.settings.mode&&a.settings.oneToOneTouch){var s=0,o=0;"horizontal"===a.settings.mode?(o=n[0].pageX-a.touch.start.x,s=a.touch.originalPos.left+o):(o=n[0].pageY-a.touch.start.y,s=a.touch.originalPos.top+o),y(s,"reset",0)}},Y=function(e){a.viewport.unbind("touchmove MSPointerMove pointermove",B),a.controls.el.removeClass("disabled");var t=e.originalEvent,n="undefined"!=typeof t.changedTouches?t.changedTouches:[t],i=0,s=0;a.touch.end.x=n[0].pageX,a.touch.end.y=n[0].pageY,"fade"===a.settings.mode?(s=Math.abs(a.touch.start.x-a.touch.end.x),s>=a.settings.swipeThreshold&&(a.touch.start.x>a.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())):("horizontal"===a.settings.mode?(s=a.touch.end.x-a.touch.start.x,i=a.touch.originalPos.left):(s=a.touch.end.y-a.touch.start.y,i=a.touch.originalPos.top),!a.settings.infiniteLoop&&(0===a.active.index&&s>0||a.active.last&&0>s)?y(i,"reset",200):Math.abs(s)>=a.settings.swipeThreshold?(0>s?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):y(i,"reset",200)),a.viewport.unbind("touchend MSPointerUp pointerup",Y),a.viewport.get(0).releasePointerCapture&&a.viewport.get(0).releasePointerCapture(a.pointerId)},_=function(){if(a.initialized)if(a.working)window.setTimeout(_,10);else{var t=e(window).width(),n=e(window).height();(s!==t||o!==n)&&(s=t,o=n,r.redrawSlider(),a.settings.onSliderResize.call(r,a.active.index))}};return r.goToSlide=function(t,n){if(!a.working&&a.active.index!==t){a.working=!0,a.oldIndex=a.active.index,a.active.index=0>t?v()-1:t>=v()?0:t;var i=!0;if(i=a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index),"undefined"!=typeof i&&!i)return a.active.index=a.oldIndex,void(a.working=!1);if("next"===n?a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index)||(i=!1):"prev"===n&&(a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index)||(i=!1)),"undefined"!=typeof i&&!i)return a.active.index=a.oldIndex,void(a.working=!1);if(a.active.last=a.active.index>=v()-1,(a.settings.pager||a.settings.pagerCustom)&&A(a.active.index),a.settings.controls&&O(),"fade"===a.settings.mode)a.settings.adaptiveHeight&&a.viewport.height()!==p()&&a.viewport.animate({height:p()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",a.settings.slideZIndex+1).fadeIn(a.settings.speed,function(){e(this).css("zIndex",a.settings.slideZIndex),I()});else{a.settings.adaptiveHeight&&a.viewport.height()!==p()&&a.viewport.animate({height:p()},a.settings.adaptiveHeightSpeed);var s=0,o={left:0,top:0},l=null;if(!a.settings.infiniteLoop&&a.carousel&&a.active.last)if("horizontal"===a.settings.mode)l=a.children.eq(a.children.length-1),o=l.position(),s=a.viewport.width()-l.outerWidth();else{var c=a.children.length-a.settings.minSlides;o=a.children.eq(c).position()}else if(a.carousel&&a.active.last&&"prev"===n){var d=1===a.settings.moveSlides?a.settings.maxSlides-m():(v()-1)*m()-(a.children.length-a.settings.maxSlides);l=r.children(".bx-clone").eq(d),o=l.position()}else if("next"===n&&0===a.active.index)o=r.find("> .bx-clone").eq(a.settings.maxSlides).position(),a.active.last=!1;else if(t>=0){var u=t*m();o=a.children.eq(u).position()}if("undefined"!=typeof o){var h="horizontal"===a.settings.mode?-(o.left-s):-o.top;y(h,"slide",a.settings.speed)}}}},r.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var e=parseInt(a.active.index)+1;r.goToSlide(e,"next")}},r.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!==a.active.index){var e=parseInt(a.active.index)-1;r.goToSlide(e,"prev")}},r.startAuto=function(e){a.interval||(a.interval=setInterval(function(){"next"===a.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&e!==!0&&P("stop"))},r.stopAuto=function(e){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&e!==!0&&P("start"))},r.getCurrentSlide=function(){return a.active.index},r.getCurrentSlideElement=function(){return a.children.eq(a.active.index)},r.getSlideCount=function(){return a.children.length},r.isWorking=function(){return a.working},r.redrawSlider=function(){a.children.add(r.find(".bx-clone")).outerWidth(g()),a.viewport.css("height",p()),a.settings.ticker||b(),a.active.last&&(a.active.index=v()-1),a.active.index>=v()&&(a.active.last=!0),a.settings.pager&&!a.settings.pagerCustom&&(w(),A(a.active.index))},r.destroySlider=function(){a.initialized&&(a.initialized=!1,e(".bx-clone",this).remove(),a.children.each(function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.settings.controls&&!a.settings.pagerCustom&&a.pagerEl.remove(),e(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&e(window).unbind("resize",_),a.settings.keyboardEnabled&&e(document).unbind("keydown",V))},r.reloadSlider=function(e){void 0!==e&&(n=e),r.destroySlider(),l()},l(),this}}(jQuery),function(e,t,n){"use strict";function i(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return s(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function a(e){var n=[],i=c(n,t.noop);return i.chars(e),n.join("")}function r(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function s(e,n){function i(e,i,r,s){if(i=t.lowercase(i),S[i])for(;y.last()&&M[y.last()];)a("",y.last());D[i]&&y.last()==i&&a("",i),s=x[i]||!!s,s||y.push(i);var l={};r.replace(h,function(e,t,n,i,a){var r=n||i||a||"";l[t]=o(r)}),n.start&&n.start(i,l,s)}function a(e,i){var a,r=0;if(i=t.lowercase(i))for(r=y.length-1;r>=0&&y[r]!=i;r--);if(r>=0){for(a=y.length-1;a>=r;a--)n.end&&n.end(y[a]);

y.length=r}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var r,s,l,c,y=[],w=e;for(y.last=function(){return y[y.length-1]};e;){if(c="",s=!0,y.last()&&T[y.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(b,"$1"),n.chars&&n.chars(o(t)),""}),a("",y.last())):(0===e.indexOf("<!--")?(r=e.indexOf("--",4),r>=0&&e.lastIndexOf("-->",r)===r&&(n.comment&&n.comment(e.substring(4,r)),e=e.substring(r+3),s=!1)):m.test(e)?(l=e.match(m),l&&(e=e.replace(l[0],""),s=!1)):f.test(e)?(l=e.match(p),l&&(e=e.substring(l[0].length),l[0].replace(p,a),s=!1)):g.test(e)&&(l=e.match(u),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(u,i)),s=!1):(c+="<",e=e.substring(1))),s&&(r=e.indexOf("<"),c+=0>r?e:e.substring(0,r),e=0>r?"":e.substring(r),n.chars&&n.chars(o(c)))),e==w)throw d("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}a()}function o(e){return e?(F.innerHTML=e.replace(/</g,"&lt;"),F.textContent):""}function l(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var i=!1,a=t.bind(e,e.push);return{start:function(e,r,s){e=t.lowercase(e),!i&&T[e]&&(i=e),i||C[e]!==!0||(a("<"),a(e),t.forEach(r,function(i,r){var s=t.lowercase(r),o="img"===e&&"src"===s||"background"===s;O[s]!==!0||A[s]===!0&&!n(i,o)||(a(" "),a(r),a('="'),a(l(i)),a('"'))}),a(s?"/>":">"))},end:function(e){e=t.lowercase(e),i||C[e]!==!0||(a("</"),a(e),a(">")),e==i&&(i=!1)},chars:function(e){i||a(l(e))}}}var d=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,g=/^</,f=/^<\//,v=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,x=r("area,br,col,hr,img,wbr"),$=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=r("rp,rt"),D=t.extend({},k,$),S=t.extend({},$,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),M=t.extend({},k,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),T=r("script,style"),C=t.extend({},x,S,M,D,E),A=r("background,cite,href,longdesc,src,usemap,xlink:href"),I=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),P=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),O=t.extend({},A,P,I),F=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,i=/^mailto:/;return function(r,s){function o(e){e&&h.push(a(e))}function l(e,n){h.push("<a "),t.isDefined(s)&&h.push('target="',s,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),o(n),h.push("</a>")}if(!r)return r;for(var c,d,u,p=r,h=[];c=p.match(n);)d=c[0],c[2]||c[4]||(d=(c[3]?"http://":"mailto:")+d),u=c.index,o(p.substr(0,u)),l(d,c[0].replace(i,"")),p=p.substring(u+c[0].length);return o(p),e(h.join(""))}}])}(window,window.angular),function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,a){a(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(a,r){if(!r.repeat)throw n("repeat","Expected 'repeat' expression.");return function(a,r,s,o,l){var c=s.groupBy,d=s.groupFilter;if(o.parseRepeatAttr(s.repeat,c,d),o.disableChoiceExpression=s.uiDisableChoice,o.onHighlightCallback=s.onHighlight,c){var u=r.querySelectorAll(".ui-select-choices-group");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",u.length);u.attr("ng-repeat",t.getGroupNgRepeatExpression())}var p=r.querySelectorAll(".ui-select-choices-row");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",p.length);p.attr("ng-repeat",t.getNgRepeatExpression(o.parserResult.itemName,"$select.items",o.parserResult.trackByExp,c)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+o.parserResult.itemName+")").attr("ng-click","$select.select("+o.parserResult.itemName+",false,$event)");var h=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",h.length);h.attr("uis-transclude-append",""),i(r,l)(a),a.$watch("$select.search",function(e){e&&!o.open&&o.multiple&&o.activate(!1,!0),o.activeIndex=o.tagging.isActivated?-1:0,o.refresh(s.refresh)}),s.$observe("refreshDelay",function(){var t=a.$eval(s.refreshDelay);o.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,n,i,a,r,s,o){function l(){(p.resetSearchInput||void 0===p.resetSearchInput&&o.resetSearchInput)&&(p.search=h,p.selected&&p.items.length&&!p.multiple&&(p.activeIndex=p.items.indexOf(p.selected)))}function c(e,t){var n,i,a=[];for(n=0;n<t.length;n++)for(i=0;i<e.length;i++)e[i].name==[t[n]]&&a.push(e[i]);return a}function d(t){var n=!0;switch(t){case e.DOWN:!p.open&&p.multiple?p.activate(!1,!0):p.activeIndex<p.items.length-1&&p.activeIndex++;break;case e.UP:!p.open&&p.multiple?p.activate(!1,!0):(p.activeIndex>0||0===p.search.length&&p.tagging.isActivated&&p.activeIndex>-1)&&p.activeIndex--;break;case e.TAB:(!p.multiple||p.open)&&p.select(p.items[p.activeIndex],!0);break;case e.ENTER:p.open&&(p.tagging.isActivated||p.activeIndex>=0)?p.select(p.items[p.activeIndex]):p.activate(!1,!0);break;case e.ESC:p.close();break;default:n=!1}return n}function u(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw s("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(p.activeIndex<0)){var i=t[p.activeIndex],a=i.offsetTop+i.clientHeight-e[0].scrollTop,r=e[0].offsetHeight;a>r?e[0].scrollTop+=a-r:a<i.clientHeight&&(p.isGrouped&&0===p.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-a)}}var p=this,h="";if(p.placeholder=o.placeholder,p.searchEnabled=o.searchEnabled,p.sortable=o.sortable,p.refreshDelay=o.refreshDelay,p.removeSelected=!1,p.closeOnSelect=!0,p.search=h,p.activeIndex=0,p.items=[],p.open=!1,p.focus=!1,p.disabled=!1,p.selected=void 0,p.focusser=void 0,p.resetSearchInput=!0,p.multiple=void 0,p.disableChoiceExpression=void 0,p.tagging={isActivated:!1,fct:void 0},p.taggingTokens={isActivated:!1,tokens:void 0},p.lockChoiceExpression=void 0,p.clickTriggeredSelect=!1,p.$filter=a,p.searchInput=n.querySelectorAll("input.ui-select-search"),1!==p.searchInput.length)throw s("searchInput","Expected 1 input.ui-select-search but got '{0}'.",p.searchInput.length);p.isEmpty=function(){return angular.isUndefined(p.selected)||null===p.selected||""===p.selected},p.activate=function(e,n){p.disabled||p.open||(n||l(),t.$broadcast("uis:activate"),p.open=!0,p.activeIndex=p.activeIndex>=p.items.length?0:p.activeIndex,-1===p.activeIndex&&p.taggingLabel!==!1&&(p.activeIndex=0),i(function(){p.search=e||p.search,p.searchInput[0].focus()}))},p.findGroupByName=function(e){return p.groups&&p.groups.filter(function(t){return t.name===e})[0]},p.parseRepeatAttr=function(e,n,i){function a(e){var a=t.$eval(n);if(p.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(a)?a(e):e[a],n=p.findGroupByName(t);n?n.items.push(e):p.groups.push({name:t,items:[e]})}),i){var r=t.$eval(i);angular.isFunction(r)?p.groups=r(p.groups):angular.isArray(r)&&(p.groups=c(p.groups,r))}p.items=[],p.groups.forEach(function(e){p.items=p.items.concat(e.items)})}function o(e){p.items=e}p.setItemsFn=n?a:o,p.parserResult=r.parse(e),p.isGrouped=!!n,p.itemProperty=p.parserResult.itemName,p.refreshItems=function(e){e=e||p.parserResult.source(t);var n=p.selected;if(angular.isArray(n)&&!n.length||!p.removeSelected)p.setItemsFn(e);else if(void 0!==e){var i=e.filter(function(e){return n.indexOf(e)<0});p.setItemsFn(i)}},t.$watchCollection(p.parserResult.source,function(e){if(void 0===e||null===e)p.items=[];else{if(!angular.isArray(e))throw s("items","Expected an array but got '{0}'.",e);p.refreshItems(e),p.ngModel.$modelValue=null}})};var g;p.refresh=function(e){void 0!==e&&(g&&i.cancel(g),g=i(function(){t.$eval(e)},p.refreshDelay))},p.setActiveItem=function(e){p.activeIndex=p.items.indexOf(e)},p.isActive=function(e){if(!p.open)return!1;var t=p.items.indexOf(e[p.itemProperty]),n=t===p.activeIndex;return!n||0>t&&p.taggingLabel!==!1||0>t&&p.taggingLabel===!1?!1:(n&&!angular.isUndefined(p.onHighlightCallback)&&e.$eval(p.onHighlightCallback),n)},p.isDisabled=function(e){if(p.open){var t,n=p.items.indexOf(e[p.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(p.disableChoiceExpression)&&(t=p.items[n],i=!!e.$eval(p.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},p.select=function(e,n,a){if(void 0===e||!e._uiSelectChoiceDisabled){if(!p.items&&!p.search)return;if(!e||!e._uiSelectChoiceDisabled){if(p.tagging.isActivated){if(p.taggingLabel===!1)if(p.activeIndex<0){if(e=void 0!==p.tagging.fct?p.tagging.fct(p.search):p.search,!e||angular.equals(p.items[0],e))return}else e=p.items[p.activeIndex];else if(0===p.activeIndex){if(void 0===e)return;if(void 0!==p.tagging.fct&&"string"==typeof e){if(e=p.tagging.fct(p.search),!e)return}else"string"==typeof e&&(e=e.replace(p.taggingLabel,"").trim())}if(p.selected&&angular.isArray(p.selected)&&p.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void p.close(n)}t.$broadcast("uis:select",e);var r={};r[p.parserResult.itemName]=e,i(function(){p.onSelectCallback(t,{$item:e,$model:p.parserResult.modelMapper(t,r)})}),p.closeOnSelect&&p.close(n),a&&"click"===a.type&&(p.clickTriggeredSelect=!0)}}},p.close=function(e){p.open&&(p.ngModel&&p.ngModel.$setTouched&&p.ngModel.$setTouched(),l(),p.open=!1,t.$broadcast("uis:close",e))},p.setFocus=function(){p.focus||p.focusInput[0].focus()},p.clear=function(e){p.select(void 0),e.stopPropagation(),i(function(){p.focusser[0].focus()},0,!1)},p.toggle=function(e){p.open?(p.close(),e.preventDefault(),e.stopPropagation()):p.activate()},p.isLocked=function(e,t){var n,i=p.selected[t];return i&&!angular.isUndefined(p.lockChoiceExpression)&&(n=!!e.$eval(p.lockChoiceExpression),i._uiSelectChoiceLocked=n),n};var f=null;p.sizeSearchInput=function(){var e=p.searchInput[0],n=p.searchInput.parent().parent()[0],a=function(){return n.clientWidth*!!e.offsetParent},r=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),p.searchInput.css("width",n+"px"),!0};p.searchInput.css("width","10px"),i(function(){null!==f||r(a())||(f=t.$watch(a,function(e){r(e)&&(f(),f=null)}))})},p.searchInput.on("keydown",function(n){var a=n.which;t.$apply(function(){var t=!1;if((p.items.length>0||p.tagging.isActivated)&&(d(a),p.taggingTokens.isActivated)){for(var r=0;r<p.taggingTokens.tokens.length;r++)p.taggingTokens.tokens[r]===e.MAP[n.keyCode]&&p.search.length>0&&(t=!0);t&&i(function(){p.searchInput.triggerHandler("tagged");var t=p.search.replace(e.MAP[n.keyCode],"").trim();p.tagging.fct&&(t=p.tagging.fct(t)),t&&p.select(t,!0)})}}),e.isVerticalMovement(a)&&p.items.length>0&&u(),(a===e.ENTER||a===e.ESC)&&(n.preventDefault(),n.stopPropagation())}),p.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&p.taggingTokens.isActivated&&p.tagging.fct){var n=t.split(p.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=p.tagging.fct(e);t&&p.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),p.searchInput.on("tagged",function(){i(function(){l()})}),t.$on("$destroy",function(){p.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,i,a,r,s){return{restrict:"EA",templateUrl:function(e,n){var i=n.theme||t.theme;return i+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(a,o){return angular.isDefined(o.multiple)?a.append("<ui-select-multiple/>").removeAttr("multiple"):a.append("<ui-select-single/>"),function(a,o,l,c,d){function u(e){if(g.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(o[0],e.target):o[0].contains(e.target),!t&&!g.clickTriggeredSelect){var n=["input","button","textarea"],i=angular.element(e.target).scope(),r=i&&i.$select&&i.$select!==g;r||(r=~n.indexOf(e.target.tagName.toLowerCase())),g.close(r),a.$digest()}g.clickTriggeredSelect=!1}}function p(){var t=i(o);m=angular.element('<div class="ui-select-placeholder"></div>'),m[0].style.width=t.width+"px",m[0].style.height=t.height+"px",o.after(m),b=o[0].style.width,e.find("body").append(o),o[0].style.position="absolute",o[0].style.left=t.left+"px",o[0].style.top=t.top+"px",o[0].style.width=t.width+"px"}function h(){null!==m&&(m.replaceWith(o),m=null,o[0].style.position="",o[0].style.left="",o[0].style.top="",o[0].style.width=b)}var g=c[0],f=c[1];g.generatedId=t.generateId(),g.baseTitle=l.title||"Select box",g.focusserTitle=g.baseTitle+" focus",g.focusserId="focusser-"+g.generatedId,g.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?r(l.closeOnSelect)():t.closeOnSelect}(),g.onSelectCallback=r(l.onSelect),g.onRemoveCallback=r(l.onRemove),g.ngModel=f,g.choiceGrouped=function(e){return g.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){g.focusInput.attr("tabindex",e),o.removeAttr("tabindex")}),a.$watch("searchEnabled",function(){var e=a.$eval(l.searchEnabled);g.searchEnabled=void 0!==e?e:t.searchEnabled}),a.$watch("sortable",function(){var e=a.$eval(l.sortable);g.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){g.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=a.$eval(l.resetSearchInput);g.resetSearchInput=void 0!==e?e:!0}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=a.$eval(l.tagging);g.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else g.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&(g.taggingLabel="false"===l.taggingLabel?!1:void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];g.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&s(function(){g.setFocus()}),angular.isDefined(l.focusOn)&&a.$on(l.focusOn,function(){s(function(){g.setFocus()})}),e.on("click",u),a.$on("$destroy",function(){e.off("click",u)}),d(a,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);o.querySelectorAll(".ui-select-match").replaceWith(i);var a=t.querySelectorAll(".ui-select-choices");if(a.removeAttr("ui-select-choices"),a.removeAttr("data-ui-select-choices"),1!==a.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",a.length);o.querySelectorAll(".ui-select-choices").replaceWith(a)});var v=a.$eval(l.appendToBody);(void 0!==v?v:t.appendToBody)&&(a.$watch("$select.open",function(e){e?p():h()}),a.$on("$destroy",function(){h()}));var m=null,b="",y=null,w="direction-up";a.$watch("$select.open",function(t){if(t){if(y=angular.element(o).querySelectorAll(".ui-select-dropdown"),null===y)return;y[0].style.visibility="hidden",s(function(){var t=i(o),n=i(y);t.top+t.height+n.height>e[0].documentElement.scrollTop+e[0].documentElement.clientHeight&&(y[0].style.position="absolute",y[0].style.top=-1*n.height+"px",o.addClass(w)),y[0].style.visibility=""})}else{if(null===y)return;y[0].style.position="",y[0].style.top="",o.removeClass(w)}})}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,i=t.parent().attr("multiple");return n+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,a){function r(e){a.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}a.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){a.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",r),r(i.allowClear),a.multiple&&a.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,i=this,a=e.$select;e.$evalAsync(function(){n=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){a.refreshItems(),a.sizeSearchInput()},i.removeChoice=function(n){var r=a.selected[n];if(!r._uiSelectChoiceLocked){var s={};s[a.parserResult.itemName]=r,a.selected.splice(n,1),i.activeMatchIndex=-1,a.sizeSearchInput(),t(function(){a.onRemoveCallback(e,{$item:r,$model:a.parserResult.modelMapper(e,s)})}),i.updateModel()}},i.getPlaceholder=function(){return a.selected.length?void 0:a.placeholder}}],controllerAs:"$selectMultiple",link:function(i,a,r,s){function o(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~h.activeMatchIndex?d:s;case e.RIGHT:return~h.activeMatchIndex&&l!==s?c:(u.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?(h.removeChoice(l),d):s;case e.DELETE:return~h.activeMatchIndex?(h.removeChoice(h.activeMatchIndex),l):!1}}var i=o(u.searchInput[0]),a=u.selected.length,r=0,s=a-1,l=h.activeMatchIndex,c=h.activeMatchIndex+1,d=h.activeMatchIndex-1,p=l;return i>0||u.search.length&&t==e.RIGHT?!1:(u.close(),p=n(),h.activeMatchIndex=u.selected.length&&p!==!1?Math.min(s,Math.max(r,p)):-1,!0)}function c(e){if(void 0===e||void 0===u.search)return!1;var t=e.filter(function(e){return void 0===u.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===u.search.toUpperCase()}).length>0;return t}function d(e,t){var n=-1;if(angular.isArray(e))for(var i=angular.copy(e),a=0;a<i.length;a++)if(void 0===u.tagging.fct)i[a]+" "+u.taggingLabel===t&&(n=a);else{var r=i[a];r.isTag=!0,angular.equals(r,t)&&(n=a)}return n}var u=s[0],p=i.ngModel=s[1],h=i.$selectMultiple;u.multiple=!0,u.removeSelected=!0,u.focusInput=u.searchInput,p.$parsers.unshift(function(){for(var e,t={},n=[],a=u.selected.length-1;a>=0;a--)t={},t[u.parserResult.itemName]=u.selected[a],e=u.parserResult.modelMapper(i,t),n.unshift(e);return n}),p.$formatters.unshift(function(e){var t,n=u.parserResult.source(i,{$select:{search:""}}),a={};if(!n)return e;var r=[],s=function(e,n){if(e&&e.length){for(var s=e.length-1;s>=0;s--){if(a[u.parserResult.itemName]=e[s],t=u.parserResult.modelMapper(i,a),u.parserResult.trackByExp){var o=/\.(.+)/.exec(u.parserResult.trackByExp);if(o.length>0&&t[o[1]]==n[o[1]])return r.unshift(e[s]),!0}if(angular.equals(t,n))return r.unshift(e[s]),!0}return!1}};if(!e)return r;for(var o=e.length-1;o>=0;o--)s(u.selected,e[o])||s(n,e[o])||r.unshift(e[o]);return r}),i.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null,h.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);u.selected=[]}u.selected=p.$viewValue,i.$evalAsync()},i.$on("uis:select",function(e,t){u.selected.push(t),h.updateModel()}),i.$on("uis:activate",function(){h.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&u.sizeSearchInput()}),u.searchInput.on("keydown",function(t){var n=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(n)&&(i=l(n)),i&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),u.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){u.activeIndex=u.taggingLabel===!1?-1:0}),u.tagging.isActivated&&u.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(u.activeIndex=u.taggingLabel===!1?-1:0,u.taggingLabel===!1)return;var n,a,r,s,o=angular.copy(u.items),l=angular.copy(u.items),p=!1,h=-1;if(void 0!==u.tagging.fct){if(r=u.$filter("filter")(o,{isTag:!0}),r.length>0&&(s=r[0]),o.length>0&&s&&(p=!0,o=o.slice(1,o.length),l=l.slice(1,l.length)),n=u.tagging.fct(u.search),n.isTag=!0,l.filter(function(e){return angular.equals(e,u.tagging.fct(u.search))}).length>0)return;n.isTag=!0}else{if(r=u.$filter("filter")(o,function(e){return e.match(u.taggingLabel)}),r.length>0&&(s=r[0]),a=o[0],void 0!==a&&o.length>0&&s&&(p=!0,o=o.slice(1,o.length),l=l.slice(1,l.length)),n=u.search+" "+u.taggingLabel,d(u.selected,u.search)>-1)return;if(c(l.concat(u.selected)))return void(p&&(o=l,i.$evalAsync(function(){u.activeIndex=0,u.items=o})));if(c(l))return void(p&&(u.items=l.slice(1,l.length)))}p&&(h=d(u.selected,n)),h>-1?o=o.slice(h+1,o.length-1):(o=[],o.push(n),o=o.concat(l)),i.$evalAsync(function(){u.activeIndex=0,u.items=o})}}),u.searchInput.on("blur",function(){n(function(){h.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,a,r,s){var o=s[0],l=s[1];l.$parsers.unshift(function(e){var t,n={};return n[o.parserResult.itemName]=e,t=o.parserResult.modelMapper(i,n)}),l.$formatters.unshift(function(e){var t,n=o.parserResult.source(i,{$select:{search:""}}),a={};if(n){var r=function(n){return a[o.parserResult.itemName]=n,t=o.parserResult.modelMapper(i,a),t==e};if(o.selected&&r(o.selected))return o.selected;for(var s=n.length-1;s>=0;s--)if(r(n[s]))return n[s]}return e}),i.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){o.selected=l.$viewValue},i.$on("uis:select",function(e,t){o.selected=t}),i.$on("uis:close",function(e,n){t(function(){o.focusser.prop("disabled",!1),n||o.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){c.prop("disabled",!0)});var c=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(c)(i),o.focusser=c,o.focusInput=c,a.parent().append(c),c.bind("focus",function(){i.$evalAsync(function(){o.focus=!0})}),c.bind("blur",function(){i.$evalAsync(function(){o.focus=!1})}),c.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),o.select(void 0),void i.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),o.activate()),i.$digest()))}),c.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(o.activate(c.val()),c.val(""),i.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,i,a,r){if(null===t[a.uiSelectSort])throw n("sort","Expected a list to sort");var s=angular.extend({axis:"horizontal"},t.$eval(a.uiSelectSortOptions)),o=s.axis,l="dragging",c="dropping",d="dropping-before",u="dropping-after";t.$watch(function(){return r.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(l),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),i.on("dragend",function(){i.removeClass(l)});var p,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},g=function(e){e.preventDefault();var t="vertical"===o?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===o?"offsetHeight":"offsetWidth"]/2?(i.removeClass(u),i.addClass(d)):(i.removeClass(d),i.addClass(u))},f=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(p),p=e(function(){v(n)},20)},v=function(e){var n=t.$eval(a.uiSelectSort),r=n[e],s=null;s=i.hasClass(d)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(n,[e,s]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:r,from:e,to:s})}),i.removeClass(c),i.removeClass(d),i.removeClass(u),i.off("drop",f)};i.on("dragenter",function(){i.hasClass(l)||(i.addClass(c),i.on("dragover",g),i.on("drop",f))}),i.on("dragleave",function(e){e.target==i&&(i.removeClass(c),i.removeClass(d),i.removeClass(u),i.off("dragover",g),i.off("drop",f))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:i[2],source:t(i[3]),trackByExp:i[4],modelMapper:t(i[1]||i[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(e,t,n,i){var a=e+" in "+(i?"$group.items":t);return n&&(a+=" track by "+n),a}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),
e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),angular.module("ui.bootstrap",["ui.bootstrap.datepicker","ui.bootstrap.dateparser","ui.bootstrap.position"]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,a,r,s,o){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,a){l[n]=angular.isDefined(t[n])?8>a?i(t[n])(e.$parent):e.$parent.$eval(t[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=o[i]?new Date(o[i]):null}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.maxMode=l.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:s(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var d=function(){a(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",d),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),d()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),d())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var a=i[0],r=i[1];r&&a.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,a){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function s(e,t){var n=new Array(t),i=new Date(e),a=0;for(i.setHours(12);t>a;)n[a++]=new Date(i),i.setDate(i.getDate()+1);return n}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=a.showWeeks,a.step={months:1},a.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];a._refreshView=function(){var n=a.activeDate.getFullYear(),i=a.activeDate.getMonth(),r=new Date(n,i,1),l=a.startingDay-r.getDay(),c=l>0?7-l:-l,d=new Date(r);c>0&&d.setDate(-c+1);for(var u=s(d,42),p=0;42>p;p++)u[p]=angular.extend(a.createDateObject(u[p],a.formatDay),{secondary:u[p].getMonth()!==i,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:e(u[h].date,a.formatDayHeader),full:e(u[h].date,"EEEE")};if(t.title=e(a.activeDate,a.formatDayTitle),t.rows=a.split(u,7),t.showWeeks){t.weekNumbers=[];for(var g=(11-a.startingDay)%7,f=t.rows.length,v=0;f>v;v++)t.weekNumbers.push(o(t.rows[v][g].date))}},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},a.handleKeyDown=function(e){var t=a.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getMonth()+("pageup"===e?-1:1);a.activeDate.setMonth(n,1),t=Math.min(r(a.activeDate.getFullYear(),a.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(a.activeDate.getFullYear(),a.activeDate.getMonth()));a.activeDate.setDate(t)},a.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,a){a.step={years:1},a.element=n,a._refreshView=function(){for(var n=new Array(12),i=a.activeDate.getFullYear(),r=0;12>r;r++)n[r]=angular.extend(a.createDateObject(new Date(i,r,1),a.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(a.activeDate,a.formatMonthTitle),t.rows=a.split(n,3)},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},a.handleKeyDown=function(e){var t=a.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getFullYear()+("pageup"===e?-1:1);a.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);a.activeDate.setMonth(t)},a.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function a(e){return parseInt((e-1)/r,10)*r+1}var r=i.yearRange;i.step={years:r},i.element=t,i._refreshView=function(){for(var t=new Array(r),n=0,s=a(i.activeDate.getFullYear());r>n;n++)t[n]=angular.extend(i.createDateObject(new Date(s+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[r-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=a(i.activeDate.getFullYear()):"end"===e&&(t=a(i.activeDate.getFullYear())+r-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,a,r,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(o,l,c,d){function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,g,o.date)||new Date(e);return isNaN(t)?void 0:t}return void 0}return null}function h(e,t){var n=e||t;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=r.parse(n,g)||new Date(n);return!isNaN(i)}return!1}return!0}var g,f=angular.isDefined(c.closeOnDateSelection)?o.$parent.$eval(c.closeOnDateSelection):s.closeOnDateSelection,v=angular.isDefined(c.datepickerAppendToBody)?o.$parent.$eval(c.datepickerAppendToBody):s.appendToBody;o.showButtonBar=angular.isDefined(c.showButtonBar)?o.$parent.$eval(c.showButtonBar):s.showButtonBar,o.getText=function(e){return o[e+"Text"]||s[e+"Text"]};var m=!1;if(s.html5Types[c.type]?(g=s.html5Types[c.type],m=!0):(g=c.datepickerPopup||s.datepickerPopup,c.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==g&&(g=t,d.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(m&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var b=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");b.attr({"ng-model":"date","ng-change":"dateSelection()"});var y=angular.element(b.children()[0]);if(m&&"month"==c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var w=o.$parent.$eval(c.datepickerOptions);w.initDate&&(o.initDate=w.initDate,y.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(e,t){y.attr(u(t),e)})}o.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(c[e]){var n=t(c[e]);if(o.$parent.$watch(n,function(t){o.watchData[e]=t}),y.attr(u(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;o.$watch("watchData."+e,function(e,t){e!==t&&i(o.$parent,e)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),m?d.$formatters.push(function(e){return o.date=e,e}):(d.$$parserName="date",d.$validators.date=h,d.$parsers.unshift(p),d.$formatters.push(function(e){return o.date=e,d.$isEmpty(e)?e:a(e,g)})),o.dateSelection=function(e){angular.isDefined(e)&&(o.date=e);var t=o.date?a(o.date,g):"";l.val(t),d.$setViewValue(t),f&&(o.isOpen=!1,l[0].focus())},d.$viewChangeListeners.push(function(){o.date=r.parse(d.$viewValue,g,o.date)||new Date(d.$viewValue)});var x=function(e){o.isOpen&&e.target!==l[0]&&o.$apply(function(){o.isOpen=!1})},$=function(e){o.keydown(e)};l.bind("keydown",$),o.keydown=function(e){27===e.which?(e.preventDefault(),o.isOpen&&e.stopPropagation(),o.close()):40!==e.which||o.isOpen||(o.isOpen=!0)},o.$watch("isOpen",function(e){e?(o.$broadcast("datepicker.focus"),o.position=v?i.offset(l):i.position(l),o.position.top=o.position.top+l.prop("offsetHeight"),n.bind("click",x)):n.unbind("click",x)}),o.select=function(e){if("today"===e){var t=new Date;angular.isDate(o.date)?(e=new Date(o.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}o.dateSelection(e)},o.close=function(){o.isOpen=!1,l[0].focus()};var k=e(b)(o);b.remove(),v?n.find("body").append(k):l.after(k),o.$on("$destroy",function(){k.remove(),l.unbind("keydown",$),n.unbind("click",x)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(r,function(t,a){var r=e.indexOf(a);if(r>-1){e=e.split(""),i[r]="("+t.regex+")",e[r]="$";for(var s=r+1,o=r+a.length;o>s;s++)i[s]="",e[s]="$";e=e.join(""),n.push({index:r,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(t,r,s){if(!angular.isString(t)||!r)return t;r=e.DATETIME_FORMATS[r]||r,r=r.replace(a,"\\$&"),this.parsers[r]||(this.parsers[r]=n(r));var o=this.parsers[r],l=o.regex,c=o.map,d=t.match(l);if(d&&d.length){var u,p;u=s?{year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var h=1,g=d.length;g>h;h++){var f=c[h-1];f.apply&&f.apply.call(u,d[h])}return i(u.year,u.month,u.date)&&(p=new Date(u.year,u.month,u.date,u.hours,u.minutes,u.seconds,u.milliseconds||0)),p}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var a=function(t){for(var n=e[0],a=t.offsetParent||n;a&&a!==n&&i(a);)a=a.offsetParent;return a||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},r=a(t[0]);r!=e[0]&&(i=this.offset(angular.element(r)),i.top+=r.clientTop-r.scrollTop,i.left+=r.clientLeft-r.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var a,r,s,o,l=n.split("-"),c=l[0],d=l[1]||"center";a=i?this.offset(e):this.position(e),r=t.prop("offsetWidth"),s=t.prop("offsetHeight");var u={center:function(){return a.left+a.width/2-r/2},left:function(){return a.left},right:function(){return a.left+a.width}},p={center:function(){return a.top+a.height/2-s/2},top:function(){return a.top},bottom:function(){return a.top+a.height}};switch(c){case"right":o={top:p[d](),left:u[c]()};break;case"left":o={top:p[d](),left:a.left-r};break;case"bottom":o={top:p[c](),left:u[d]()};break;default:o={top:a.top-s,left:u[d]()}}return o}}}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.datepicker","ui.bootstrap.dateparser","ui.bootstrap.position"]),angular.module("ui.bootstrap.tpls",["template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html"]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,a,r,s,o){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,a){l[n]=angular.isDefined(t[n])?8>a?i(t[n])(e.$parent):e.$parent.$eval(t[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=o[i]?new Date(o[i]):null}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.maxMode=l.maxMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:s(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var d=function(){a(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",d),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),d()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),d())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var a=i[0],r=i[1];r&&a.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,a){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function s(e,t){var n=new Array(t),i=new Date(e),a=0;for(i.setHours(12);t>a;)n[a++]=new Date(i),i.setDate(i.getDate()+1);return n}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=a.showWeeks,a.step={months:1},a.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];a._refreshView=function(){var n=a.activeDate.getFullYear(),i=a.activeDate.getMonth(),r=new Date(n,i,1),l=a.startingDay-r.getDay(),c=l>0?7-l:-l,d=new Date(r);c>0&&d.setDate(-c+1);for(var u=s(d,42),p=0;42>p;p++)u[p]=angular.extend(a.createDateObject(u[p],a.formatDay),{secondary:u[p].getMonth()!==i,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:e(u[h].date,a.formatDayHeader),full:e(u[h].date,"EEEE")};if(t.title=e(a.activeDate,a.formatDayTitle),t.rows=a.split(u,7),t.showWeeks){t.weekNumbers=[];for(var g=(11-a.startingDay)%7,f=t.rows.length,v=0;f>v;v++)t.weekNumbers.push(o(t.rows[v][g].date))}},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},a.handleKeyDown=function(e){var t=a.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getMonth()+("pageup"===e?-1:1);a.activeDate.setMonth(n,1),t=Math.min(r(a.activeDate.getFullYear(),a.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(a.activeDate.getFullYear(),a.activeDate.getMonth()));a.activeDate.setDate(t)},a.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,a){a.step={years:1},a.element=n,a._refreshView=function(){for(var n=new Array(12),i=a.activeDate.getFullYear(),r=0;12>r;r++)n[r]=angular.extend(a.createDateObject(new Date(i,r,1),a.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(a.activeDate,a.formatMonthTitle),t.rows=a.split(n,3)},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},a.handleKeyDown=function(e){var t=a.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=a.activeDate.getFullYear()+("pageup"===e?-1:1);a.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);a.activeDate.setMonth(t)},a.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function a(e){return parseInt((e-1)/r,10)*r+1}var r=i.yearRange;i.step={years:r},i.element=t,i._refreshView=function(){for(var t=new Array(r),n=0,s=a(i.activeDate.getFullYear());r>n;n++)t[n]=angular.extend(i.createDateObject(new Date(s+n,0,1),i.formatYear),{
uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[r-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=a(i.activeDate.getFullYear()):"end"===e&&(t=a(i.activeDate.getFullYear())+r-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,a,r,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(o,l,c,d){function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,g,o.date)||new Date(e);return isNaN(t)?void 0:t}return void 0}return null}function h(e,t){var n=e||t;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=r.parse(n,g)||new Date(n);return!isNaN(i)}return!1}return!0}var g,f=angular.isDefined(c.closeOnDateSelection)?o.$parent.$eval(c.closeOnDateSelection):s.closeOnDateSelection,v=angular.isDefined(c.datepickerAppendToBody)?o.$parent.$eval(c.datepickerAppendToBody):s.appendToBody;o.showButtonBar=angular.isDefined(c.showButtonBar)?o.$parent.$eval(c.showButtonBar):s.showButtonBar,o.getText=function(e){return o[e+"Text"]||s[e+"Text"]};var m=!1;if(s.html5Types[c.type]?(g=s.html5Types[c.type],m=!0):(g=c.datepickerPopup||s.datepickerPopup,c.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==g&&(g=t,d.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(m&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var b=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");b.attr({"ng-model":"date","ng-change":"dateSelection()"});var y=angular.element(b.children()[0]);if(m&&"month"==c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var w=o.$parent.$eval(c.datepickerOptions);w.initDate&&(o.initDate=w.initDate,y.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(e,t){y.attr(u(t),e)})}o.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(c[e]){var n=t(c[e]);if(o.$parent.$watch(n,function(t){o.watchData[e]=t}),y.attr(u(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;o.$watch("watchData."+e,function(e,t){e!==t&&i(o.$parent,e)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),m?d.$formatters.push(function(e){return o.date=e,e}):(d.$$parserName="date",d.$validators.date=h,d.$parsers.unshift(p),d.$formatters.push(function(e){return o.date=e,d.$isEmpty(e)?e:a(e,g)})),o.dateSelection=function(e){angular.isDefined(e)&&(o.date=e);var t=o.date?a(o.date,g):"";l.val(t),d.$setViewValue(t),f&&(o.isOpen=!1,l[0].focus())},d.$viewChangeListeners.push(function(){o.date=r.parse(d.$viewValue,g,o.date)||new Date(d.$viewValue)});var x=function(e){o.isOpen&&e.target!==l[0]&&o.$apply(function(){o.isOpen=!1})},$=function(e){o.keydown(e)};l.bind("keydown",$),o.keydown=function(e){27===e.which?(e.preventDefault(),o.isOpen&&e.stopPropagation(),o.close()):40!==e.which||o.isOpen||(o.isOpen=!0)},o.$watch("isOpen",function(e){e?(o.$broadcast("datepicker.focus"),o.position=v?i.offset(l):i.position(l),o.position.top=o.position.top+l.prop("offsetHeight"),n.bind("click",x)):n.unbind("click",x)}),o.select=function(e){if("today"===e){var t=new Date;angular.isDate(o.date)?(e=new Date(o.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}o.dateSelection(e)},o.close=function(){o.isOpen=!1,l[0].focus()};var k=e(b)(o);b.remove(),v?n.find("body").append(k):l.after(k),o.$on("$destroy",function(){k.remove(),l.unbind("keydown",$),n.unbind("click",x)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(r,function(t,a){var r=e.indexOf(a);if(r>-1){e=e.split(""),i[r]="("+t.regex+")",e[r]="$";for(var s=r+1,o=r+a.length;o>s;s++)i[s]="",e[s]="$";e=e.join(""),n.push({index:r,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}}};this.parse=function(t,r,s){if(!angular.isString(t)||!r)return t;r=e.DATETIME_FORMATS[r]||r,r=r.replace(a,"\\$&"),this.parsers[r]||(this.parsers[r]=n(r));var o=this.parsers[r],l=o.regex,c=o.map,d=t.match(l);if(d&&d.length){var u,p;u=s?{year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var h=1,g=d.length;g>h;h++){var f=c[h-1];f.apply&&f.apply.call(u,d[h])}return i(u.year,u.month,u.date)&&(p=new Date(u.year,u.month,u.date,u.hours,u.minutes,u.seconds,u.milliseconds||0)),p}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var a=function(t){for(var n=e[0],a=t.offsetParent||n;a&&a!==n&&i(a);)a=a.offsetParent;return a||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},r=a(t[0]);r!=e[0]&&(i=this.offset(angular.element(r)),i.top+=r.clientTop-r.scrollTop,i.left+=r.clientLeft-r.scrollLeft);var s=t[0].getBoundingClientRect();return{width:s.width||t.prop("offsetWidth"),height:s.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var a,r,s,o,l=n.split("-"),c=l[0],d=l[1]||"center";a=i?this.offset(e):this.position(e),r=t.prop("offsetWidth"),s=t.prop("offsetHeight");var u={center:function(){return a.left+a.width/2-r/2},left:function(){return a.left},right:function(){return a.left+a.width}},p={center:function(){return a.top+a.height/2-s/2},top:function(){return a.top},bottom:function(){return a.top+a.height}};switch(c){case"right":o={top:p[d](),left:u[c]()};break;case"left":o={top:p[d](),left:a.left-r};break;case"bottom":o={top:p[c](),left:u[d]()};break;default:o={top:a.top-s,left:u[d]()}}return o}}}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),function(e,t,n,i,a){function r(t,n){if(n){var i=n.getAttribute("viewBox"),a=e.createDocumentFragment(),r=n.cloneNode(!0);for(i&&t.setAttribute("viewBox",i);r.childNodes.length;)a.appendChild(r.childNodes[0]);t.appendChild(a)}}function s(){var t=e.createElement("x"),n=this.s;t.innerHTML=this.responseText,this.onload=function(){n.splice(0).map(function(e){r(e[0],t.querySelector("#"+e[1].replace(/(\W)/g,"\\$1")))})},this.onload()}function o(){for(var a;a=t[0];){var l=a.parentNode,c=a.getAttribute("xlink:href").split("#"),d=c[0],c=c[1];l.removeChild(a),d.length?(a=i[d]=i[d]||new XMLHttpRequest,a.s||(a.s=[],a.open("GET",d),a.onload=s,a.send()),a.s.push([l,c]),4===a.readyState&&a.onload()):r(l,e.getElementById(c))}n(o)}a&&o()}(document,document.getElementsByTagName("use"),window.requestAnimationFrame||window.setTimeout,{},/Trident\/[567]\b/.test(navigator.userAgent)||537>(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]),function(e){var t=-1,n=-1,i=function(e){return parseFloat(e)||0},a=function(t){var n=null,a=[];return e(t).each(function(){var t=e(this),r=t.offset().top-i(t.css("margin-top")),s=0<a.length?a[a.length-1]:null;null===s?a.push(t):1>=Math.floor(Math.abs(n-r))?a[a.length-1]=s.add(t):a.push(t),n=r}),a},r=function(t){var n={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof t?e.extend(n,t):("boolean"==typeof t?n.byRow=t:"remove"===t&&(n.remove=!0),n)},s=e.fn.matchHeight=function(t){if(t=r(t),t.remove){var n=this;return this.css(t.property,""),e.each(s._groups,function(e,t){t.elements=t.elements.not(n)}),this}return 1>=this.length&&!t.target?this:(s._groups.push({elements:this,options:t}),s._apply(this,t),this)};s._groups=[],s._throttle=80,s._maintainScroll=!1,s._beforeUpdate=null,s._afterUpdate=null,s._apply=function(t,n){var o=r(n),l=e(t),c=[l],d=e(window).scrollTop(),u=e("html").outerHeight(!0),p=l.parents().filter(":hidden");return p.each(function(){var t=e(this);t.data("style-cache",t.attr("style"))}),p.css("display","block"),o.byRow&&!o.target&&(l.each(function(){var t=e(this),n="inline-block"===t.css("display")?"inline-block":"block";t.data("style-cache",t.attr("style")),t.css({display:n,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),c=a(l),l.each(function(){var t=e(this);t.attr("style",t.data("style-cache")||"")})),e.each(c,function(t,n){var a=e(n),r=0;if(o.target)r=o.target.outerHeight(!1);else{if(o.byRow&&1>=a.length)return void a.css(o.property,"");a.each(function(){var t=e(this),n={display:"inline-block"===t.css("display")?"inline-block":"block"};n[o.property]="",t.css(n),t.outerHeight(!1)>r&&(r=t.outerHeight(!1)),t.css("display","")})}a.each(function(){var t=e(this),n=0;o.target&&t.is(o.target)||("border-box"!==t.css("box-sizing")&&(n+=i(t.css("border-top-width"))+i(t.css("border-bottom-width")),n+=i(t.css("padding-top"))+i(t.css("padding-bottom"))),t.css(o.property,r-n))})}),p.each(function(){var t=e(this);t.attr("style",t.data("style-cache")||null)}),s._maintainScroll&&e(window).scrollTop(d/u*e("html").outerHeight(!0)),this},s._applyDataApi=function(){var t={};e("[data-match-height], [data-mh]").each(function(){var n=e(this),i=n.attr("data-mh")||n.attr("data-match-height");t[i]=i in t?t[i].add(n):n}),e.each(t,function(){this.matchHeight(!0)})};var o=function(t){s._beforeUpdate&&s._beforeUpdate(t,s._groups),e.each(s._groups,function(){s._apply(this.elements,this.options)}),s._afterUpdate&&s._afterUpdate(t,s._groups)};s._update=function(i,a){if(a&&"resize"===a.type){var r=e(window).width();if(r===t)return;t=r}i?-1===n&&(n=setTimeout(function(){o(a),n=-1},s._throttle)):o(a)},e(s._applyDataApi),e(window).bind("load",function(e){s._update(!1,e)}),e(window).bind("resize orientationchange",function(e){s._update(!0,e)})}(jQuery);